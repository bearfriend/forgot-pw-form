<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="../paper-button/paper-button.html">
<link rel="import" href="../paper-shadow/paper-shadow.html">
<link rel="import" href="../paper-toast/paper-toast.html">

<polymer-element name="forgot-pw-form" attributes="">
  <template>
    <link rel="stylesheet" href="forgot-pw-form.css">

	<core-card class="sso-card" id="core-card" vertical layout>

	  <paper-toast id="toast" duration="5000" text="E-mail resent." swipeDisabled></paper-toast>
	  
	  <template bind if="{{ !sent }}">
		
		  <paper-shadow z="2"></paper-shadow>
		  <h1 id="heading">Forgot your password?</h1>
		  <p id="instruction">Enter your email address below. You will receive an email with instructions on how to reset your password.</p>
		  <paper-input label="Email" willvalidate id="email-input" layout vertical></paper-input>
		  <paper-button label="Reset password" on-click="{{ send }}" id="reset-pw-button" class="form-row"></paper-button>
		  
	  </template>
	  
	  <template bind if="{{ sent }}">
		
		<paper-shadow z="2"></paper-shadow>
		<h1 id="heading">Password reset email sent</h1>
		<p id="instruction">If the email you provided is associated with an account, you will receive an email shortly with instructions on how to reset your password.</p>
		<paper-button label="Resend email" on-click="{{ send_again }}" id="reset-pw-button" class="form-row"></paper-button>
		
	  </template>
	  
	  <a href="/#sign-in" class="small-text link form-row" center-text>Back to <strong>Sign In</strong></a>
	  
	</core-card>
	
  </template>
  <script>
    (function () {
    'use strict';
	
    Polymer({
	send: function(e,detail,sender) {
	  this.sent = true;
	}
	send_again: function() {
	  this.send();
	  $.toast.show();
	}
    });
	
    })();
  </script>
</polymer-element>
